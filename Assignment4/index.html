<!doctype html>
<html>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script> 
var data_y;

var dialogLib = {
  login:{
    _yCB: function(){},
    _nCB: function(){},
    _yesClicked: function(){
      var val = $(".wrapper .frame .userInput").val();
      _yCB(val);
      $(".wrapper").remove();
    },
    _noClicked: function(){
      var val = $(".wrapper .frame .userInput").val();
      _nCB(val);
      $(".wrapper").remove();
    },
    _handleKD: function(e){
	var key = e.key.toLowerCase();
	if(key == "escape"){
	   dialogLib.login._noClicked();
	}
	else if(key == "enter"){
	   dialogLib.login._yesClicked();
	}
    },
    show: function(promptUser, promptPassword, yesLabel, noLabel, yesCB, noCB){
		yesLabel = yesLabel || "OK";
		noLabel = noLabel || "Cancel";
		_yCB = yesCB = yesCB || function(){};
		_nCB = noCB = noCB || function(){};
		var outS = "";
		outS += "<div class='wrapper'>" +
			"<div class='frame'>" +
			"<p>" + promptUser + "</p>" +
		"<input onkeydown='dialogLib.login._handleKD(event)' type='text' class='userInput'/>"+
		"<p>" + promptPassword + "</p>" +
		"<input onkeydown='dialogLib.login._handleKD(event)' type='text' class='userInput'/>"+
            "<button onclick='dialogLib.login._noClicked()'>" + noLabel + "</button>"+
            "<button onclick='dialogLib.login._yesClicked()'>" + yesLabel + "</button>"+
          "</div>"+
        "</div>";
		$("body").append(outS);
		$(".wrapper .frame .userInput").focus();
    }
  },

  signup:{
    _yCB: function(){},
    _nCB: function(){},
    _yesClicked: function(){
      var val = $(".wrapper .frame .userInput").val();
      _yCB(val);
      $(".wrapper").remove();
    },
    _noClicked: function(){
      var val = $(".wrapper .frame .userInput").val();
      _nCB(val);
      $(".wrapper").remove();
    },
    _handleKD: function(e){
	var key = e.key.toLowerCase();
	if(key == "escape"){
	   dialogLib.signup._noClicked();
	}
	else if(key == "enter"){
	   dialogLib.signup._yesClicked();
	}
    },
    show: function(promptUser, promptPassword, yesLabel, noLabel, yesCB, noCB){
		yesLabel = yesLabel || "OK";
		noLabel = noLabel || "Cancel";
		_yCB = yesCB = yesCB || function(){};
		_nCB = noCB = noCB || function(){};
		var outS = "";
		outS += "<div class='wrapper'>" +
			"<div class='frame'>" +
			"<p>" + promptUser + "</p>" +
		"<input onkeydown='dialogLib.signup._handleKD(event)' type='text' class='userInput'/>"+
		"<p>" + promptPassword + "</p>" +
		"<input onkeydown='dialogLib.signup._handleKD(event)' type='text' class='userInput'/>"+
            "<button onclick='dialogLib.signup._noClicked()'>" + noLabel + "</button>"+
            "<button onclick='dialogLib.signup._yesClicked()'>" + yesLabel + "</button>"+
          "</div>"+
        "</div>";
		$("body").append(outS);
		$(".wrapper .frame .userInput").focus();
    }
  },
 }
</script>
<link rel="stylesheet" type="text/css" href="dialog.css">

<script>
var loginClicked = function()
{
  dialogLib.login.show("Username:", "Password:", "OK", "Cancel", function(data){alert("Greetings old friend!")},function(data){alert("Perhaps you meant to sign up?")});
}
function signupClicked()
{
  dialogLib.signup.show("Username:","Password:", "Signup", "Cancel", function(data){alert("Welcome to the club!")},function(data){alert("Come back any time!")});
}
</script>
<style>
.wrapper{
  position: fixed;
    top: 0px;
    left: 0px;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,.7);
}

.frame{
      width: 300px;
    margin: auto;
    background: white;
    padding: 10px;
    margin-top: 100px;
    padding-bottom: 40px;
    box-shadow: 0px 0px 50px;
    border-radius: 10px;
    text-align: center;
}
</style>
</head>

<body>
  <button onclick='loginClicked()'> Login </button>
  <button onclick='signupClicked()'> Signup </button>
</body>


</html>